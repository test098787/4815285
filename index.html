<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>鈔好貸</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <img src="images/logo.png" alt="鈔好貸 Logo" class="logo">
    </header>

    <main class="container">
        <h2 class="title">鈔好貸</h2>

        <div class="loan-section">
            <div class="loan-details">
                <h3 class="loan-amount">資金金額</h3>
                <p class="amount">台幣 <span id="loanAmount">10000</span>.0</p>
                <input type="range" class="slider" id="loanSlider" value="10000" min="5000" max="50000" step="1000" oninput="updateLoanDetails()">
            </div>

            <div class="repayment-details">
                <p>分期付款期限: <span id="loanTerm">24 月</span></p>
                <p>每月還款: 台幣 <span id="monthlyRepayment">600</span>.0</p>
                <p>最高年利率: <span id="interestRate">9.0%</span></p>
            </div>

            <!-- 修改此處的按鈕，新增 onclick 事件 -->
            <button class="apply-btn" onclick="goToSecondPage()">立即申請</button>
        </div>

        <div class="why-choose-us">
            <h3>為什麼選擇我們</h3>
            <ul>
                <li><img src="images/icon1.png" alt="icon"> 高批準率</li>
                <li><img src="images/icon2.png" alt="icon"> 快捷簡便的程序</li>
                <li><img src="images/icon3.png" alt="icon"> 6小時內送達現金</li>
            </ul>
        </div>
    </main>

    <footer class="footer">
        <nav>
            <a href="index.html" class="nav-item">主頁</a>  <!-- 主頁按鈕 -->
            <a href="#" class="nav-item">優惠</a>
        </nav>
    </footer>

    <!-- JavaScript 代碼 -->
    <script>
        // 更新滑動條的數據和顏色
        function updateLoanDetails() {
            var loanAmount = document.getElementById("loanSlider").value;
            var loanTerm = 24;  // 固定分期付款期限為 24 月
            var interestRate = 9.0;  // 固定年利率為 9%

            var monthlyRepayment = (loanAmount / loanTerm).toFixed(1);  // 每月還款計算

            document.getElementById("loanAmount").innerText = loanAmount;
            document.getElementById("loanTerm").innerText = loanTerm + " 月";
            document.getElementById("monthlyRepayment").innerText = monthlyRepayment;
            document.getElementById("interestRate").innerText = interestRate + "%";

            // 更新滑動條背景顏色
            var slider = document.getElementById("loanSlider");
            var value = (loanAmount - slider.min) / (slider.max - slider.min) * 100;
            slider.style.background = `linear-gradient(to right, #4e79d4 ${value}%, #e0e0e0 ${value}%)`;
        }

        // 跳轉到第二頁並存儲數據
        function goToSecondPage() {
            var loanAmount = document.getElementById("loanSlider").value;
            var loanTerm = document.getElementById("loanTerm").innerText;
            var monthlyRepayment = document.getElementById("monthlyRepayment").innerText;
            var interestRate = document.getElementById("interestRate").innerText;

            // 將數據保存到 sessionStorage
            sessionStorage.setItem('loanAmount', loanAmount);
            sessionStorage.setItem('loanTerm', loanTerm);
            sessionStorage.setItem('monthlyRepayment', monthlyRepayment);
            sessionStorage.setItem('interestRate', interestRate);

            // 跳轉到第二頁
            window.location.href = 'second-page.html';  // 假設第二頁為 second-page.html
        }
    </script>
</body>
</html>
